[general]
database=ich21@zdev21_tcp
separator=;

# Use case 1: List all user tables
[transaction00]
sql=SELECT tabname AS result \
    FROM systables \
    WHERE tabid >= 100 \
    ORDER BY tabname;
header=TableName
separator=;
limit=20

# Use case 2: Create the first_table permanent table
[transaction01]
sql=CREATE TABLE first_table (tabname VARCHAR(128));
skip=no

# Use case 3: Insert the first user table name into first_table
[transaction02]
sql=INSERT INTO first_table (tabname) \
    SELECT FIRST 1 t.tabname FROM systables t WHERE t.tabid >= 100 ORDER BY t.tabname;

# Use case 4: List all columns for the first user table found
[transaction03]
sql=SELECT c.colname || ';' || c.coltype || ';' || c.collength AS result \
    FROM syscolumns c, first_table f, systables t \
    WHERE c.tabid = t.tabid AND t.tabname = f.tabname \
    ORDER BY c.colno;
header=ColumnName;ColumnType;ColumnLength
separator=;
limit=20

# Use case 5: List all indexes for systables
[transaction04]
sql=SELECT idxname || ';' || idxtype AS result \
    FROM sysindexes \
    WHERE tabid = (SELECT tabid FROM systables WHERE tabname = 'systables');
header=IndexName;IndexType
separator=;
limit=10

# Use case 6: Count total number of tables in the database
[transaction05]
sql=SELECT COUNT(*) AS result FROM systables WHERE tabid >= 100;
header=UserTableCount
separator=;
limit=1

# Use case 7: List all database users from sysusers
[transaction06]
sql=SELECT username || ';' || usertype AS result \
    FROM sysusers \
    ORDER BY username;
header=UserName;UserType
separator=;
limit=20

# Drop the first_table permanent table
[transaction07]
sql=DROP TABLE first_table;