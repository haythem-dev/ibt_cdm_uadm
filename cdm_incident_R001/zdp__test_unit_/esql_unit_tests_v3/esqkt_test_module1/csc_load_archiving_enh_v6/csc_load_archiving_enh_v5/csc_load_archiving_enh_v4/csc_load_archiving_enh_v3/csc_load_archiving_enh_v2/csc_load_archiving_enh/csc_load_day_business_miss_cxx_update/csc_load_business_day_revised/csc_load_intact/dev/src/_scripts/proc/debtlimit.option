###############################################################################################
# HEADER-DATA --> ATTENTION: INDIVIDUAL MODIFICATION REQUIRED (Purpose) <--
###############################################################################################
#Author:            j.machat                                                                                  
#Creation-Date:     21.05.2012                                                                                
#Creation-Time:     16:58                                                                                     
#Creator:           procgen.sh - Version: 01.00.01.00                                                         
#Creation-Type:     BATCH_PROCEDURE                                                                           
#Purpose:           Implements the options callable for /software/home/j.machat/ch/ksc/batch/proc/debtlimit.option
###############################################################################################

#========================================================================================#
# USAGE
#========================================================================================#
readonly USAGE="USAGE:\t$0\n"\
"\t\n"\
"\tCONTROL:\n"\
"\t-start [ -stop | -status ]\n"\
"\t[ -noreset ] <only load updates but do not reset existing values>\n"\
"\t[ -resethalfmonth ] <reseting sum_monturnover for customers with halfmonth payment interval>\n"\
"\t\n"\
"\tPREVENT COMPLETE SOURCES:\n"\
"\t[ -nosap ] <only load updates for turnover>\n"\
"\t[ -noturnover ] <only load updates for sap balance>\n"\
"\t\n"\
"\tPREVENT SPECIFIC COLUMNS:\n"\
"\t[ -nodebitside ] <do not load or reset sum_debitside>\n"\
"\t[ -nocreditside ] <do not load or reset sum_creditside>\n"\
"\t[ -nomonturnover ] <do not load or reset sum_monturnover>\n"\
"\t[ -nodayturnover ] <do not reset sum_dayturnover>\n"\
"\t[ -noreturns ] <do not load or reset sum_returns>\n"\
"\t[ -crema ] <check crema limits and delete warning mails>\n";

#========================================================================================#
# HELP
#========================================================================================#
if [[ "$1" == "-h" || "$1" == "-help" ]] ; then
	echo "------------------------------------------------------------------------------------------------"
	echo "START: $PWD/$0:"
	echo "------------------------------------------------------------------------------------------------"
	echo "--------------------------------------------------------------------------------";
	echo "-usage:           $USAGE"
	echo "--------------------------------------------------------------------------------";
	echo "-u:               see -usage"
	echo "--------------------------------------------------------------------------------";
	echo "-v:               display of procedure name and current version number"
	echo "--------------------------------------------------------------------------------";
	echo "-vh:              display of all version numbers with date and time"
	echo "--------------------------------------------------------------------------------";
	echo "-h:               display of all possible options"
	echo "--------------------------------------------------------------------------------";
	echo "-r:               display of all possible returns with explanations"
	echo "--------------------------------------------------------------------------------";
	echo "-return_value:    see -r"
	echo "--------------------------------------------------------------------------------";
	echo "------------------------------------------------------------------------------------------------"
	echo "ENDE: $PWD/$0:"
	echo "------------------------------------------------------------------------------------------------"
	exit 0;
fi

#========================================================================================#
# RETURN VALUES --> ATTENTION: INDIVIDUAL MODIFICATION REQUIRED (new return values) <--
#========================================================================================#
if [[ "$1" == "-r" || "$1" == "-return_values" ]] ; then
	echo  "------------------------------------------------------------------------------------------------"
	echo  "START: $PWD/$0:"
	echo  "------------------------------------------------------------------------------------------------"
	echo  "| Return Value    | Description                                                                |"
	echo  "------------------------------------------------------------------------------------------------"
	echo  "|       8         | BINARY missed in \${BIN_PATH}/\${BINARY}!                                  |"
	echo  "|       9         | No command line parameter at all!                                          |"
	echo  "|       10        | No command line option (-start|-stop|-status) passed!                      |"
	echo  "|       11        | More than one command line option (-start|-stop|-status) passed!           |"
	echo  "|       12        | False command line parameter or value!                                     |"
	echo  "|       13        | Passed sap-file not found!                                                 |"
	echo  "|       14        | No read-rights for passed sap-file                                         |"
	echo  "|       15        | Error when trying to unload turnover from db                               |"
	echo  "|       16        | Turnover file which had to be unloaded is not existing                     |"
	echo  "|       17        | Formatting SQL File for updating turnover balance failed		              |"
	echo  "|       18        | Formatted turnover file was not found				                      |"
	echo  "|       19        | Formatted SAP file was not found				      		                  |"
	echo  "|       20        | Formatting SQL File for updating SAP balance failed			              |"
	echo  "|       21        | Backup path seems odd (does not contain LOG_PATH) - security aspects       |"
	echo  "------------------------------------------------------------------------------------------------"
	start_process -r
	stop_process -r
	status_process -r
	echo  "------------------------------------------------------------------------------------------------"
	echo  "ENDE: $PWD/$0:"
	echo  "------------------------------------------------------------------------------------------------"
	exit 0;
fi

#====================================#
# USAGE
#====================================#
if [[ "$1" == "-u" || "$1" == "-usage" ]] ; then
	echo  "------------------------------------------------------------------------------------------------"
	echo  "START: $PWD/$0:"
	echo  "------------------------------------------------------------------------------------------------"
	echo "$USAGE"
	echo  "------------------------------------------------------------------------------------------------"
	echo  "ENDE: $PWD/$0:"
	echo  "------------------------------------------------------------------------------------------------"
	exit 0;
fi

#====================================#
# CURRENT VERSION --> ATTENTION: INDIVIDUAL MODIFICATION REQUIRED (CUR_VER) <--
#====================================#
CUR_VER=2.1
if [[ "$1" == "-v" || "$1" == "-version" ]] ; then
	echo  "------------------------------------------------------------------------------------------------"
	echo  "START: $PWD/$0:"
	echo  "------------------------------------------------------------------------------------------------"
	echo "$0: Version-No.:\t $CUR_VER - new options and features see history"
	echo  "------------------------------------------------------------------------------------------------"
	echo  "ENDE: $PWD/$0:"
	echo  "------------------------------------------------------------------------------------------------"
	exit 0;
fi

#====================================#
# VERSION HISTORY --> ATTENTION: INDIVIDUAL MODIFICATION REQUIRED (content of version) <--
#====================================#
if [[ "$1" = "-vh" ]] ; then
	echo "------------------------------------------------------------------------------------------------"
	echo "START: $PWD/$0:"
	echo "------------------------------------------------------------------------------------------------"
	echo "------------------------------------------------------------------------------------------------"
	echo "Version-Historie:"
	echo "------------------------------------------------------------------------------------------------"
	echo "V-Nr.     Datum            Zeit        Inhalt"
	echo "------------------------------------------------------------------------------------------------"
	echo "1.0        February 2011   00:00       loads turnover and sap to database"
	echo "2.0        May 2012        00:00       added options for controlling which source shall be "
	echo "                                       loaded. also its now possible to switch backup on/off and "
	echo "                                       delete old files. moved all variables per country to var "
	echo "                                       file so they are not hardcoded anymore."
	echo "2.1        October 2012    00:00       further options for controlling loading"
	echo "2.2        January 2013    00:00       added halfmonth options"
	echo "------------------------------------------------------------------------------------------------"
	echo "------------------------------------------------------------------------------------------------"
	echo "ENDE: $PWD/$0:"
	echo "------------------------------------------------------------------------------------------------"
	exit 0;
fi

#====================================#
# CURRENT VERSION OF PROGRAMME
#====================================#
if [[ "$1" = "-vp" ]] ; then
	echo  "------------------------------------------------------------------------------------------------"
	echo  "START: $PWD/$0:"
	echo  "------------------------------------------------------------------------------------------------"
	echo  "Version-No. of programme:"
	${process} -version
	echo  "------------------------------------------------------------------------------------------------"
	echo  "ENDE: $PWD/$0:"
	echo  "------------------------------------------------------------------------------------------------"
	exit 0;
fi

#====================================#
# VERSION HISTORY OF PROGRAMME
#====================================#
if [[ "$1" = "-vhp" ]] ; then
	echo  "------------------------------------------------------------------------------------------------"
	echo  "START: $PWD/$0:"
	echo  "------------------------------------------------------------------------------------------------"
	echo  "Version-No. of programme:"
	${process} -version_history
	echo  "------------------------------------------------------------------------------------------------"
	echo  "ENDE: $PWD/$0:"
	echo  "------------------------------------------------------------------------------------------------"
	exit 0;
fi

#====================================#
# USAGE OF PROGRAMME
#====================================#
if [[ "$1" = "-up" ]] ; then
	echo  "------------------------------------------------------------------------------------------------"
	echo  "START: $PWD/$0:"
	echo  "------------------------------------------------------------------------------------------------"
	echo  "Version-No. of programme:"
	${process} -usage
	echo  "------------------------------------------------------------------------------------------------"
	echo  "ENDE: $PWD/$0:"
	echo  "------------------------------------------------------------------------------------------------"
	exit 0;
fi

#====================================#
# RETURN VALUES OF PROGRAMME
#====================================#
if [[ "$1" = "-rp" ]] ; then
	echo  "------------------------------------------------------------------------------------------------"
	echo  "START: $PWD/$0:"
	echo  "------------------------------------------------------------------------------------------------"
	echo  "Version-No. of programme:"
	${process} -return_values
	echo  "------------------------------------------------------------------------------------------------"
	echo  "ENDE: $PWD/$0:"
	echo  "------------------------------------------------------------------------------------------------"
	exit 0;
fi

#====================================#
# HELP OF PROGRAMME
#====================================#
if [[ "$1" = "-hp" ]] ; then
	echo  "------------------------------------------------------------------------------------------------"
	echo  "START: $PWD/$0:"
	echo  "------------------------------------------------------------------------------------------------"
	echo  "Version-No. of programme:"
	${process} -help
	echo  "------------------------------------------------------------------------------------------------"
	echo  "ENDE: $PWD/$0:"
	echo  "------------------------------------------------------------------------------------------------"
	exit 0;
fi
